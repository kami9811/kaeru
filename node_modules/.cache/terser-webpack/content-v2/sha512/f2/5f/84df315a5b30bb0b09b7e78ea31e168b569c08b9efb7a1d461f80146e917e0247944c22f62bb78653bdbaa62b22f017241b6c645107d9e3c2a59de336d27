{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{X3zk:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,\"LoginPageModule\",(function(){return login_module_LoginPageModule}));var common=__webpack_require__(\"ofXK\"),fesm2015_forms=__webpack_require__(\"3Pt+\"),ionic_angular=__webpack_require__(\"TEn/\"),router=__webpack_require__(\"tyNb\"),core=__webpack_require__(\"fXoL\"),global_service=__webpack_require__(\"dVwY\");const routes=[{path:\"\",component:(()=>{class LoginPage{constructor(router,gs){this.router=router,this.gs=gs,this.id=\"\",this.password=\"\",this.status=0,this.postObj={},this.returnObj={},this.navigate=()=>{this.postObj.id=this.id,this.postObj.password=this.password,this.login()},this.navigateToSignup=()=>{this.router.navigate([\"/signup\"])},this.login=()=>{this.gs.http(\"https://kn46itblog.com/hackathon/winter2020/php_apis/login.php\",this.postObj).subscribe(res=>{console.log(res),this.returnObj=res,this.status=this.returnObj.status,200==this.status&&(localStorage.id=this.postObj.id,localStorage.attribute=this.returnObj.attribute,localStorage.prefecture=this.returnObj.prefecture,localStorage.distance=this.returnObj.distance,localStorage.attribute=this.returnObj.attribute,localStorage.password=this.postObj.password,localStorage.hash=this.returnObj.hash,console.log(\"Stored item!\"),this.router.navigate([\"/tabs\",\"tab1\",\"login\"]))},error=>{console.log(\"error: \"+error)})}}ngOnInit(){this.postObj.id=localStorage.id,this.postObj.password=localStorage.password,this.login()}ngOnDestroy(){200!=this.status&&this.router.navigate([\"/login\"])}}return LoginPage.ɵfac=function(t){return new(t||LoginPage)(core.Hb(router.g),core.Hb(global_service.a))},LoginPage.ɵcmp=core.Bb({type:LoginPage,selectors:[[\"app-login\"]],decls:20,vars:2,consts:[[\"id\",\"icon\",\"src\",\"../../assets/icon/icon.png\"],[\"src\",\"../../assets/logo.png\",1,\"ion-padding\"],[\"id\",\"top\"],[1,\"ion-padding\",3,\"submit\"],[\"lines\",\"full\",1,\"ion-padding-bottom\"],[\"position\",\"floating\"],[\"required\",\"\",\"type\",\"text\",\"name\",\"id\",3,\"ngModel\",\"ngModelChange\"],[\"required\",\"\",\"type\",\"password\",\"name\",\"password\",3,\"ngModel\",\"ngModelChange\"],[\"type\",\"submit\",\"expand\",\"block\",\"color\",\"base-green\",1,\"\"],[\"id\",\"bottom-button\",\"expand\",\"block\",\"fill\",\"outline\",\"color\",\"base-green\",3,\"click\"]],template:function(rf,ctx){1&rf&&(core.Mb(0,\"ion-header\"),core.Mb(1,\"ion-toolbar\"),core.Mb(2,\"ion-title\"),core.Ib(3,\"ion-img\",0),core.Lb(),core.Lb(),core.Lb(),core.Mb(4,\"ion-content\"),core.Ib(5,\"ion-img\",1),core.Mb(6,\"div\",2),core.hc(7,\"ログイン\"),core.Lb(),core.Mb(8,\"form\",3),core.Tb(\"submit\",(function(){return ctx.navigate()})),core.Mb(9,\"ion-item\",4),core.Mb(10,\"ion-label\",5),core.hc(11,\"ID\"),core.Lb(),core.Mb(12,\"ion-input\",6),core.Tb(\"ngModelChange\",(function($event){return ctx.id=$event})),core.Lb(),core.Mb(13,\"ion-label\",5),core.hc(14,\"パスワード\"),core.Lb(),core.Mb(15,\"ion-input\",7),core.Tb(\"ngModelChange\",(function($event){return ctx.password=$event})),core.Lb(),core.Lb(),core.Mb(16,\"ion-button\",8),core.hc(17,\"ログイン\"),core.Lb(),core.Lb(),core.Mb(18,\"ion-button\",9),core.Tb(\"click\",(function(){return ctx.navigateToSignup()})),core.hc(19,\"新規登録はこちら\"),core.Lb(),core.Lb()),2&rf&&(core.xb(12),core.Yb(\"ngModel\",ctx.id),core.xb(3),core.Yb(\"ngModel\",ctx.password))},directives:[ionic_angular.q,ionic_angular.F,ionic_angular.E,ionic_angular.s,ionic_angular.m,fesm2015_forms.i,fesm2015_forms.e,fesm2015_forms.f,ionic_angular.u,ionic_angular.v,ionic_angular.t,ionic_angular.M,fesm2015_forms.h,fesm2015_forms.d,fesm2015_forms.g,ionic_angular.e],styles:[\"#top[_ngcontent-%COMP%]{text-align:center;font-weight:700;font-size:large}#bottom-button[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;width:90%}\"]}),LoginPage})()}];let login_routing_module_LoginPageRoutingModule=(()=>{class LoginPageRoutingModule{}return LoginPageRoutingModule.ɵmod=core.Fb({type:LoginPageRoutingModule}),LoginPageRoutingModule.ɵinj=core.Eb({factory:function(t){return new(t||LoginPageRoutingModule)},imports:[[router.i.forChild(routes)],router.i]}),LoginPageRoutingModule})(),login_module_LoginPageModule=(()=>{class LoginPageModule{}return LoginPageModule.ɵmod=core.Fb({type:LoginPageModule}),LoginPageModule.ɵinj=core.Eb({factory:function(t){return new(t||LoginPageModule)},imports:[[common.b,fesm2015_forms.a,ionic_angular.G,login_routing_module_LoginPageRoutingModule]]}),LoginPageModule})()}}]);","extractedComments":[]}